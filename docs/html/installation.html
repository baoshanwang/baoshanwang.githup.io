
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installation &#8212; inspur 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quickstart" href="quickstart.html" />
    <link rel="prev" title="Welcome to inspur’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>You can install the <strong>Inspur sm collection</strong> using one of these options:
Ansible Galaxy, Ansible Automation Hub, or a local build.</p>
<p>For more information on installing collections, see <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/collections_using.html">using collections</a>.</p>
<div class="section" id="ansible-galaxy">
<h2>Ansible Galaxy<a class="headerlink" href="#ansible-galaxy" title="Permalink to this headline">¶</a></h2>
<p>Galaxy enables you to quickly configure your automation project with content
from the Ansible community.</p>
<p>Galaxy provides prepackaged units of work known as collections. You can use the
<a class="reference external" href="https://docs.ansible.com/ansible/latest/cli/ansible-galaxy.html">ansible-galaxy</a> command with the option <code class="docutils literal notranslate"><span class="pre">install</span></code> to install a collection on
your system (control node) hosted in Galaxy.</p>
<p>By default, the <a class="reference external" href="https://docs.ansible.com/ansible/latest/cli/ansible-galaxy.html">ansible-galaxy</a> command installs the latest available
collection, but you can add a version identifier to install a specific version.
Before installing a collection from Galaxy, review all the available versions.
Periodically, new releases containing enhancements and features you might be
interested in become available.</p>
<p>The ansible-galaxy command ignores any pre-release versions unless
the <code class="docutils literal notranslate"><span class="pre">==</span></code> range identifier is set to that pre-release version.</p>
<p>If you have installed a prior version, you must overwrite an existing
collection with the <code class="docutils literal notranslate"><span class="pre">--force</span></code> option.</p>
<p>Here are a few examples of installing the <strong>Inspur sm collection</strong>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ansible-galaxy collection install inspur.sm
$ ansible-galaxy collection install -f inspur.sm
$ ansible-galaxy collection install --force inspur.sm
</pre></div>
</div>
<p>The collection installation progress will be output to the console. Note the
location of the installation so that you can review other content included with
the collection, such as the sample playbook. By default, collections are
installed in <code class="docutils literal notranslate"><span class="pre">~/.ansible/collections</span></code>; see the sample output.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>Process install dependency map
Starting collection install process
Installing <span class="s1">&#39;inspur.sm:1.0.0&#39;</span> to <span class="s1">&#39;/Users/user/.ansible/collections/ansible_collections/inspur/sm&#39;</span>
</pre></div>
</div>
<p>After installation, the collection content will resemble this hierarchy: :</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>├── collections/
│  ├── ansible_collections/
│      ├── ispur/
│          ├── sm/
│              ├── docs/
│              ├── playbooks/
│              ├── plugins/
│                  ├── doc_fragments/
│                  ├── module_utils/
│                  ├── modules/
</pre></div>
</div>
<p>You can use the <cite>-p</cite> option with <cite>ansible-galaxy</cite> to specify the installation
path, such as:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ansible-galaxy collection install inspur.sm -p /home/ansible/collections
</pre></div>
</div>
<p>For more information on installing collections with Ansible Galaxy,
see <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/collections_using.html#installing-collections-with-ansible-galaxy">installing collections</a>.</p>
</div>
<div class="section" id="automation-hub-and-private-galaxy-server">
<h2>Automation Hub and Private Galaxy server<a class="headerlink" href="#automation-hub-and-private-galaxy-server" title="Permalink to this headline">¶</a></h2>
<p>Configuring access to a private Galaxy server follows the same instructions
that you would use to configure your client to point to Automation Hub. When
hosting a private Galaxy server or pointing to Hub, available content is not
always consistent with what is available on the community Galaxy server.</p>
<p>You can use the <a class="reference external" href="https://docs.ansible.com/ansible/latest/cli/ansible-galaxy.html">ansible-galaxy</a> command with the option <code class="docutils literal notranslate"><span class="pre">install</span></code> to
install a collection on your system (control node) hosted in Automation Hub
or a private Galaxy server.</p>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">ansible-galaxy</span></code> command is configured to access
<code class="docutils literal notranslate"><span class="pre">https://galaxy.ansible.com</span></code> as the server when you install a
collection. The <cite>ansible-galaxy</cite> client can be configured to point to Hub or
other servers, such as a privately running Galaxy server, by configuring the
server list in the <code class="docutils literal notranslate"><span class="pre">ansible.cfg</span></code> file.</p>
<p>Ansible searches for <code class="docutils literal notranslate"><span class="pre">ansible.cfg</span></code> in the following locations in this order:</p>
<blockquote>
<div><ul class="simple">
<li><p>ANSIBLE_CONFIG (environment variable if set)</p></li>
<li><p>/etc/ansible/ansible.cfg</p></li>
</ul>
</div></blockquote>
<p>To configure a Galaxy server list in the ansible.cfg file:</p>
<blockquote>
<div><ul class="simple">
<li><p>Add the server_list option under the [galaxy] section to one or more
server names.</p></li>
<li><p>Create a new section for each server name.</p></li>
<li><p>Set the url option for each server name.</p></li>
</ul>
</div></blockquote>
<p>For Automation Hub, you additionally need to:</p>
<blockquote>
<div><ul class="simple">
<li><p>Set the auth_url option for each server name.</p></li>
<li><p>Set the API token for each server name. For more information on API tokens,
see <a class="reference external" href="https://cloud.redhat.com/ansible/automation-hub/token/">Get API token from the version dropdown to copy your API token</a>.</p></li>
</ul>
</div></blockquote>
<p>The following example shows a configuration for Automation Hub, a private
running Galaxy server, and Galaxy:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="nv">galaxy</span><span class="p p-Indicator">]</span>
<span class="l l-Scalar l-Scalar-Plain">server_list = automation_hub, galaxy, private_galaxy</span>

<span class="l l-Scalar l-Scalar-Plain">[galaxy_server.automation_hub]</span>
<span class="l l-Scalar l-Scalar-Plain">url=https://cloud.redhat.com/api/automation-hub/</span>
<span class="l l-Scalar l-Scalar-Plain">auth_url=https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token</span>
<span class="l l-Scalar l-Scalar-Plain">token=&lt;hub_token&gt;</span>

<span class="l l-Scalar l-Scalar-Plain">[galaxy_server.galaxy]</span>
<span class="l l-Scalar l-Scalar-Plain">url=https://galaxy.ansible.com/</span>

<span class="l l-Scalar l-Scalar-Plain">[galaxy_server.private_galaxy]</span>
<span class="l l-Scalar l-Scalar-Plain">url=https://galaxy-dev.ansible.com/</span>
<span class="l l-Scalar l-Scalar-Plain">token=&lt;private_token&gt;</span>
</pre></div>
</div>
<p>For more configuration information, see
<a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/collections_using.html#configuring-the-ansible-galaxy-client">configuring the ansible-galaxy client</a> and <a class="reference external" href="https://docs.ansible.com/ansible/latest/reference_appendices/config.html">Ansible Configuration Settings</a>.</p>
</div>
<div class="section" id="local-build">
<h2>Local build<a class="headerlink" href="#local-build" title="Permalink to this headline">¶</a></h2>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span></code> command to install a
collection built from source. To build your own collection, you must clone the
Git repository, build the collection archive, and install the collection. The
<code class="docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">build</span></code> command packages the collection into an
archive that can later be installed locally without having to use Hub or
Galaxy.</p>
<p>To build a collection from the Git repository:</p>
<blockquote>
<div><ol class="arabic">
<li><p>Clone the sample repository:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Collection archive names will change depending on the release version.</p></li>
<li><p>They adhere to this convention <strong>&lt;namespace&gt;-&lt;collection&gt;-&lt;version&gt;.tar.gz</strong>, for example, <strong>inspur-sm-1.0.0.tar.gz</strong></p></li>
</ul>
</div>
</li>
</ol>
<p>2. Build the collection by running the <code class="docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">build</span></code>
command, which must be run from inside the collection:</p>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> sm
ansible-galaxy collection build
</pre></div>
</div>
<p>Example output of a locally built collection:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span> $ ansible-galaxy collection build
Created collection <span class="k">for</span> inspur.sm at /Users/user/git/inspur/sm/inspur-sm-1.0.0.tar.gz
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If you build the collection with Ansible version 2.9 or earlier, you will see the following warning that you can ignore.</p></li>
<li><p>[WARNING]: Found unknown keys in collection galaxy.yml at ‘/Users/user/git/inspur/sm/galaxy.yml’: build_ignore</p></li>
</ul>
</div>
</div></blockquote>
<ol class="arabic" start="3">
<li><p>Install the locally built collection:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ansible-galaxy collection install inspur-sm-1.0.0.tar.gz
</pre></div>
</div>
<p>In the output of collection installation, note the installation path to access the sample playbook:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>Process install dependency map
Starting collection install process
Installing <span class="s1">&#39;inspur.sm:1.0.0&#39;</span> to <span class="s1">&#39;/Users/user/.ansible/collections/ansible_collections/inspur-sm&#39;</span>
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">-p</span></code> option with <code class="docutils literal notranslate"><span class="pre">ansible-galaxy</span></code> to specify the
installation path, for example, <code class="docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span> <span class="pre">inspur-sm-1.0.0.tar.gz</span> <span class="pre">-p</span> <span class="pre">/home/ansible/collections</span></code>.</p>
<p>For more information, see <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/collections_using.html#installing-collections-with-ansible-galaxy">installing collections with Ansible Galaxy</a>.</p>
</li>
</ol>
</div></blockquote>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">inspur</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ansible-galaxy">Ansible Galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automation-hub-and-private-galaxy-server">Automation Hub and Private Galaxy server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#local-build">Local build</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Requirements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Releases</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to inspur’s documentation!</a></li>
      <li>Next: <a href="quickstart.html" title="next chapter">Quickstart</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, ism.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/installation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>